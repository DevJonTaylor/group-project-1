<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
  <link rel="stylesheet" href="./assets/css/style.css" />
  <title>G.O.A.T Scale</title>

<body>
  <div class="columns">
    <section class="hero is-primary container is-fluid" id="hero">
      <div class="hero-body">
        <p class="title" id="title"> <img src="./assets/images/newGoatTans2.png" height="100" width="100">
        </p>
      </div>
    </section>
  </div>
  <div class="hero-foot">
    <nav class="tabs is-boxed is-fullwidth">
      <div class="container">
        <ul>
          <li>
            <a id="tabswhite" id="tabsblk">Leaderboard </a>
          </li>
          <li>
            <a id="tabswhite" id="tabsblk">Stats</a>
          </li>
          <li class="js-modal-trigger" data-target="modal-js-play">
            <a id="tabswhite" id="tabsblk">How To Play</a>
          </li>
          <li>
            <a id="tabswhite" id="tabsblk">ESPN</a>
          </li>
          <li>
            <a id="tabswhite" id="tabsblk">Creators</a>
          </li>
          <li>
            <a onclick="myFunction()" id="tabswhite" id="tabsblk">Toggle light mode</a>
          </li>
        </ul>
      </div>
    </nav>
  </div></br>


  <!-- CPU card -->
  <div class="columns" id="allboxes">
    <div class="column"></div>
    <div class=" notification column is-two-fifths is-success" id="box1">
      <h2>Player Name: $$name$$</h2>
      <p>POS: $$position$$</p>
      $$headshotImg$$
    </div>
    <div class="column"></div>
  </div>


  <!-- cards for players generated -->
  <div class="columns is-multiline is-mobile">
    <div class="column js-modal-trigger" data-target="modal-js-example">
      <div class=" notification column is-two-thirds is-success" id="box2">
        <h2>Player Name: $$name$$</h2>
        <p>POS: $$position$$</p>
        $$headshotImg$$
      </div>
    </div>

    <div class="column js-modal-trigger" data-target="modal-js-example">
      <div class=" notification column is-two-thirds is-success" id="box3">
        <h2>Player Name: $$name$$</h2>
        <p>POS: $$position$$</p>
        $$headshotImg$$
      </div>
    </div>

    <div class="column js-modal-trigger" data-target="modal-js-example">
      <div class=" notification column is-two-thirds is-success" id="box4">
        <h2>Player Name: $$name$$</h2>
        <p>POS: $$position$$</p>
        $$headshotImg$$
      </div>
    </div>
  </div>

  <!-- modal for targeting and adding the giphy api generated picture-->
  <div id="modal-js-example" class="modal">
    <div class="modal-background"></div>

    <div class="modal-content">
      <div class="box1" id="giphy-image" width="500">
        <!-- generated picture goes into here, then into the modal -->
        <img />
      </div>
    </div>

    <button class="modal-close is-large" aria-label="close"></button>
  </div>

  <!-- modal for `How To Play` -->
  <div id="modal-js-play" class="modal">
    <div class="modal-background"></div>

    <div class="modal-content">
      <div class="box" id="hot-to-play">
        <!-- how to play steps goes in here then when `How To Play` is clicked, you get more steps in the modal pop out -->
        <h3>How to play:</h3>
        <ul>
          <li><img src="./assets/images/1.png" height="80" width="80">4 random players are chosen(big card is the cpu).
          </li>
          <li><img src="./assets/images/2.png" height="80" width="80">4 randomized games are chosen that have a specific
            fantasy rating.</li>
          <li><img src="./assets/images/3.png" height="80" width="80">You must choose the card with a higher rating than
            the cpu's player.</li>
          <li><img src="./assets/images/4.png" height="80" width="80">Fisrt to 5 points wins (each wrong answer cpu gets
            a point).</li>
        </ul>
      </div>
    </div>

    <button class="modal-close is-large" aria-label="close"></button>
  </div>

  <script src="https://kit.fontawesome.com/59ae44a9f3.js" crossorigin="anonymous"></script>
  <script src="assets/js/script.js"></script>
  <script src="./assets/js/giphy.js"></script>

  <script src="./assets/js/apiResponses/Tests/EspnApiFactory.player.gamelog.js"></script>
  <script src="./assets/js/apiResponses/Tests/EspnApiFactory.player.gamelog2.js"></script>
  <script src="./assets/js/apiResponses/Tests/EspnApiFactory.player.gamelog3.js"></script>
  <script src="./assets/js/apiResponses/Tests/EspnApiFactory.player.gamelog4.js"></script>
  <script src="./assets/js/apiResponses/Tests/EspnApiFactory.player.gamelog5.js"></script>
  <script src="./assets/js/apiResponses/Tests/EspnApiFactory.team.roster.1.js"></script>
  <script src="./assets/js/fullLodash.js"></script>
  <script src="./assets/js/maps.js"></script>
  <script src="./assets/js/static-data.js"></script>
  <script src="./assets/js/apiResponses/leaders.js"></script>
  <script src="./assets/js/nfl-endpoints.js"></script>
  <script src="./assets/js/espn/espn.js"></script>
  <script src="./assets/js/espn/team.js"></script>
  <script src="./assets/js/apis/team.js"></script>
  <script src="./assets/js/espn/players.js"></script>
  <script src="./assets/js/apis/players.js"></script>
  <script src="./assets/js/espn/challenger.js"></script>
  <script>
    function getRoster(id) {
      return EspnApiFactory.team.roster(id);
    }

    function getRandomTeamId() {
      return _.sample(Object.values(EspnStaticTeamData.ids));
    }

    function mew(espnHelper) {
      const cssSelectors = ['#box1', '#box2', '#box3', '#box4'];
      const team = espnHelper.team;
      team.colors.map((color, index) => team.colors[index] = `#${color}`);

      for (let selector of cssSelectors) {
        const player = _.sample(espnHelper.players);
        player.img.template = '<img src="$$src$$" alt="$$alt$$"/>';
        player.render(selector)

        player.containerElement.style.backgroundColor = team.colors[0];
        player.containerElement.style.borderColor = team.colors[1];
      }
    }

    // Example Usage
    const teamId = getRandomTeamId();
    getRoster(teamId)
      .then(mew);  // 


  </script>

</body>

<footer class="footer">
</footer>

</html>